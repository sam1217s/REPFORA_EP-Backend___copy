{
	"info": {
		"_postman_id": "cef79cf1-0377-4286-893f-f8fcf31b76cb",
		"name": "REPFORA EP - API Documentation",
		"description": "# üìö Documentaci√≥n API REPFORA EP\n\n## üéØ Descripci√≥n General\nAPI REST para el sistema de gesti√≥n de Etapas Productivas (EP) del SENA. Permite gestionar aprendices, instructores, empresas, modalidades, registros de EP y m√°s.\n\n## üîê Autenticaci√≥n\nLa API utiliza JWT (JSON Web Tokens) para autenticaci√≥n.\n\n### Roles de Usuario:\n- **APRENDIZ**: Estudiante que realiza la etapa productiva\n- **INSTRUCTOR**: Instructor que supervisa\n- **ETAPA PRODUCTIVA VIRTUAL**: Coordinador modalidad virtual\n- **ETAPA PRODUCTIVA PRESENCIAL**: Coordinador modalidad presencial\n\n### Headers Requeridos:\n```\nx-token: {JWT_TOKEN}\n```\n\n## üöÄ Configuraci√≥n Inicial\n\n### Variables de Colecci√≥n:\n- `base_url`: URL base del API local (http://localhost:5000/api)\n- `base_url_desplegado`: URL del API en producci√≥n\n- `token_aprendiz`: Token JWT del aprendiz (se actualiza autom√°ticamente al hacer login)\n- `token_instructor`: Token JWT del instructor (se actualiza autom√°ticamente al hacer login)\n- `token_admin`: Token JWT del administrador (se actualiza autom√°ticamente al hacer login)\n\n## üìù C√≥digos de Estado\n- `200`: Operaci√≥n exitosa\n- `201`: Recurso creado exitosamente\n- `400`: Error en la solicitud (validaci√≥n)\n- `401`: No autenticado o token inv√°lido\n- `403`: No autorizado (permisos insuficientes)\n- `404`: Recurso no encontrado\n- `500`: Error interno del servidor\n\n## üîÑ Flujo T√≠pico\n1. Hacer login con credenciales (Admin, Instructor o Aprendiz)\n2. El token se guarda autom√°ticamente en las variables de colecci√≥n\n3. Usar el token en los siguientes requests\n4. El token expira en 48 horas\n\n---\n\n**Versi√≥n**: 1.0.0\n**√öltima actualizaci√≥n**: Octubre 2025",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "43573863"
	},
	"item": [
		{
			"name": "üéì APPRENTICES (Aprendices)",
			"description": "Endpoints para gesti√≥n de aprendices/estudiantes del SENA.\n\n**Permisos**:\n- Crear/Listar/Actualizar: ADMIN, INSTRUCTOR\n- Login: P√∫blico\n- Actualizar datos propios: APRENDIZ\n- Activar/Desactivar: ADMIN\n\n**Campos importantes**:\n- `documentNumber`: N√∫mero de documento √∫nico\n- `documentType`: Tipo de documento (CC, TI, CE, etc.)\n- `recordNumber`: Array con fichas asociadas\n- `email.institutional`: Email institucional @sena.edu.co\n- `email.personal`: Email personal\n- `status`: 0=Activo, 1=Inactivo",
			"item": [
				{
					"name": "LOGIN Aprendiz",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Guardar el token autom√°ticamente",
									"let response = pm.response.json();",
									"if (response.token) {",
									"    pm.collectionVariables.set(\"token_aprendiz\", response.token);",
									"    pm.test(\"Token guardado exitosamente\", function () {",
									"        pm.expect(response.token).to.be.a('string');",
									"    });",
									"}",
									"",
									"pm.test(\"Status code es 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Respuesta contiene token\", function () {",
									"    pm.expect(response).to.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"documentType\": \"CC\",\n  \"documentNumber\": \"100001\", \n  \"password\": \"100001\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/apprentices/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"login"
							]
						},
						"description": "### üîê Login de Aprendiz\n\nPermite autenticar a un aprendiz en el sistema.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: No requiere\n**Permisos**: P√∫blico\n\n#### üì• Request Body:\n```json\n{\n  \"documentType\": \"CC\",        // Tipo de documento\n  \"documentNumber\": \"100001\",  // N√∫mero de documento\n  \"password\": \"100001\"          // Contrase√±a\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"ususario logueado correctamente\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n```\n\n#### ‚ö†Ô∏è Errores Comunes:\n- **400**: Credenciales incorrectas\n- **401**: Usuario inactivo\n- **404**: Usuario no existe\n\n#### üí° Nota:\nEl token se guarda autom√°ticamente en la variable `token_aprendiz` y expira en 48 horas."
					},
					"response": []
				},
				{
					"name": "REGISTRAR Aprendiz",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text",
								"description": "Token de autenticaci√≥n del administrador"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"documentNumber\": \"123456789\",\n  \"documentType\": \"CC\",\n  \"recordNumber\": [\n    {\n      \"fiche\": \"2926076\"\n    }\n  ],\n  \"firstName\": \"Juan\",\n  \"lastName\": \"P√©rez\",\n  \"email\": {\n    \"institutional\": \"jperez@sena.edu.co\",\n    \"personal\": \"juan.perez@gmail.com\"\n  },\n  \"phone\": \"3001234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/apprentices/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"register"
							]
						},
						"description": "### ‚ûï Registrar Nuevo Aprendiz\n\nCrea un nuevo aprendiz en el sistema.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN, INSTRUCTOR OWNER\n\n#### üì• Request Body:\n```json\n{\n  \"documentNumber\": \"123456789\",       // Requerido, √∫nico\n  \"documentType\": \"CC\",                 // Requerido (CC, TI, CE, etc.)\n  \"recordNumber\": [                     // Requerido, array de fichas\n    {\n      \"fiche\": \"2926076\"                // N√∫mero de ficha existente\n    }\n  ],\n  \"firstName\": \"Juan\",                  // Requerido\n  \"lastName\": \"P√©rez\",                  // Requerido\n  \"email\": {\n    \"institutional\": \"jperez@sena.edu.co\",  // Requerido, √∫nico\n    \"personal\": \"juan.perez@gmail.com\"       // Requerido, √∫nico\n  },\n  \"phone\": \"3001234567\"                // Requerido\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"message\": \"Aprendiz guardado con √©xito\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- Documento √∫nico en el sistema\n- Emails √∫nicos (institucional y personal)\n- La ficha debe existir en el sistema\n- Todos los campos son obligatorios\n\n#### üí° Notas:\n- La contrase√±a inicial ser√° el n√∫mero de documento\n- El aprendiz se crea en estado activo (status: 0)\n- Se registra autom√°ticamente en el log de auditor√≠a"
					},
					"response": []
				},
				{
					"name": "LISTAR Aprendices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/apprentices/listApprentice?recordNumber=2926076&documentNumber=123456789",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"listApprentice"
							],
							"query": [
								{
									"key": "recordNumber",
									"value": "2926076",
									"description": "Filtrar por n√∫mero de ficha"
								},
								{
									"key": "documentNumber",
									"value": "123456789",
									"description": "Filtrar por n√∫mero de documento"
								}
							]
						},
						"description": "### üìã Listar Aprendices\n\nObtiene una lista de aprendices con filtros opcionales.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN, INSTRUCTOR OWNER\n\n#### üîç Query Parameters (Opcionales):\n- `recordNumber`: Filtra por n√∫mero de ficha\n- `documentNumber`: Filtra por n√∫mero de documento\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"68db0ea84fbe82bc4d10eff4\",\n      \"documentNumber\": \"123456789\",\n      \"documentType\": \"CC\",\n      \"firstName\": \"JUAN\",\n      \"lastName\": \"P√âREZ\",\n      \"email\": {\n        \"institutional\": \"JPEREZ@SENA.EDU.CO\",\n        \"personal\": \"JUAN.PEREZ@GMAIL.COM\"\n      },\n      \"phone\": \"3001234567\",\n      \"status\": 0,\n      \"recordNumber\": [\n        {\n          \"fiche\": {\n            \"_id\": \"...\",\n            \"number\": \"2926076\",\n            \"program\": {...}\n          }\n        }\n      ],\n      \"createdAt\": \"2025-10-02T18:12:02.016Z\",\n      \"updatedAt\": \"2025-10-03T22:35:10.969Z\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Sin filtros, devuelve todos los aprendices\n- Los resultados incluyen populate de fichas\n- Ordenados por fecha de creaci√≥n (m√°s antiguos primero)"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Aprendiz (Parcial)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_aprendiz}}",
								"type": "text",
								"description": "Token del aprendiz autenticado"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": \"3009998888\",\n  \"email\": \"nuevo.email@gmail.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/apprentices/updatePartApprentice/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"updatePartApprentice",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68db0ea84fbe82bc4d10eff4",
									"description": "ID del aprendiz"
								}
							]
						},
						"description": "### ‚úèÔ∏è Actualizar Datos Propios del Aprendiz\n\nPermite al aprendiz actualizar su tel√©fono y email personal.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: APRENDIZ (solo puede actualizar sus propios datos)\n\n#### üì• Request Body:\n```json\n{\n  \"phone\": \"3009998888\",                    // Requerido\n  \"email\": \"nuevo.email@gmail.com\"          // Email personal, requerido\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"actualizado correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El ID debe ser v√°lido y existir\n- El email no debe estar en uso por otro aprendiz\n- Solo puede actualizar sus propios datos\n\n#### üí° Notas:\n- Solo actualiza tel√©fono y email personal\n- El email institucional NO se puede cambiar\n- Se registra en el log de auditor√≠a"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Aprendiz (Completo)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"documentNumber\": \"987654321\",\n  \"documentType\": \"CC\",\n  \"firstName\": \"Mar√≠a\",\n  \"lastName\": \"G√≥mez\",\n  \"email\": {\n    \"personal\": \"maria.gomez@gmail.com\",\n    \"institutional\": \"mgomez@sena.edu.co\"\n  },\n  \"phone\": \"3004567890\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/apprentices/updateEntireApprentice/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"updateEntireApprentice",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68d8ae5f1af8e60eb33cbe9c"
								}
							]
						},
						"description": "### üîÑ Actualizar Aprendiz Completo\n\nPermite actualizar todos los datos de un aprendiz (solo administradores).\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"documentNumber\": \"987654321\",          // Todos los campos\n  \"documentType\": \"CC\",                    // son requeridos\n  \"firstName\": \"Mar√≠a\",\n  \"lastName\": \"G√≥mez\",\n  \"email\": {\n    \"personal\": \"maria.gomez@gmail.com\",\n    \"institutional\": \"mgomez@sena.edu.co\"\n  },\n  \"phone\": \"3004567890\"\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Aprendiz actualizado correctamente\"\n}\n```\n\n#### üí° Diferencia con actualizaci√≥n parcial:\n- Permite actualizar TODOS los campos\n- Requiere permisos de ADMIN\n- Se pueden cambiar documentos y emails institucionales"
					},
					"response": []
				},
				{
					"name": "ACTIVAR Aprendiz",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/apprentices/activateApprentice/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"activateApprentice",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68db0ea84fbe82bc4d10eff4"
								}
							]
						},
						"description": "### ‚úÖ Activar Aprendiz\n\nCambia el estado del aprendiz a activo (status: 0).\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Estado del aprendiz activado\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `status` a 0 (activo)\n- El aprendiz puede hacer login\n- Se registra en el log de auditor√≠a"
					},
					"response": []
				},
				{
					"name": "DESACTIVAR Aprendiz",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/apprentices/disableApprentice/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"disableApprentice",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68db0ea84fbe82bc4d10eff4"
								}
							]
						},
						"description": "### ‚ùå Desactivar Aprendiz\n\nCambia el estado del aprendiz a inactivo (status: 1).\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Estado del aprendiz desactivado\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `status` a 1 (inactivo)\n- El aprendiz NO puede hacer login\n- Los datos se conservan (no se eliminan)\n- Se registra en el log de auditor√≠a"
					},
					"response": []
				},
				{
					"name": "ELIMINAR Aprendiz",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/apprentices/deleteApprentice/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"deleteApprentice",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68daf42d078f79fd73fd614a"
								}
							]
						},
						"description": "### üóëÔ∏è Eliminar Aprendiz\n\nElimina permanentemente un aprendiz del sistema.\n\n**M√©todo**: DELETE\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Aprendiz eliminado\"\n}\n```\n\n#### ‚ö†Ô∏è ADVERTENCIA:\n- Esta acci√≥n es PERMANENTE\n- Se elimina completamente de la base de datos\n- Considerar usar DESACTIVAR en lugar de eliminar\n- No se puede recuperar despu√©s de eliminar"
					},
					"response": []
				},
				{
					"name": "SOLICITAR C√≥digo Restablecer Contrase√±a",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_aprendiz}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/apprentices/resetPassword/:email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"resetPassword",
								":email"
							],
							"variable": [
								{
									"key": "email",
									"value": "juan.perez@gmail.com",
									"description": "Email institucional o personal"
								}
							]
						},
						"description": "### üìß Solicitar C√≥digo para Restablecer Contrase√±a\n\nEnv√≠a un c√≥digo de 6 d√≠gitos al email del aprendiz.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: APRENDIZ, ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Email enviado correctamente\"\n}\n```\n\n#### üí° Funcionamiento:\n1. Se genera un c√≥digo aleatorio de 6 d√≠gitos\n2. El c√≥digo es v√°lido por 20 minutos\n3. Se env√≠a por email al aprendiz\n4. El c√≥digo se guarda en `codeResetPassword`\n5. El tiempo de expiraci√≥n en `codeTime`\n\n#### ‚ö†Ô∏è Notas:\n- El email puede ser institucional o personal\n- El c√≥digo expira en 20 minutos\n- Solo se puede tener un c√≥digo activo a la vez"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Contrase√±a con C√≥digo",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_aprendiz}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"codeResetPassword\": \"123456\",\n  \"newpassword\": \"nuevaContrase√±a123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/apprentices/updatePassword/:email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"updatePassword",
								":email"
							],
							"variable": [
								{
									"key": "email",
									"value": "juan.perez@gmail.com"
								}
							]
						},
						"description": "### üîë Actualizar Contrase√±a con C√≥digo\n\nPermite cambiar la contrase√±a usando el c√≥digo de verificaci√≥n.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: APRENDIZ, ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"codeResetPassword\": \"123456\",           // C√≥digo recibido por email\n  \"newpassword\": \"nuevaContrase√±a123\"      // Nueva contrase√±a\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Contrase√±a Actualizado\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El c√≥digo debe ser v√°lido y no expirado\n- El c√≥digo expira en 20 minutos\n- Despu√©s de usar el c√≥digo, se invalida autom√°ticamente\n\n#### üí° Proceso completo:\n1. Solicitar c√≥digo (endpoint anterior)\n2. Recibir c√≥digo por email\n3. Usar este endpoint con el c√≥digo\n4. La contrase√±a se actualiza y el c√≥digo se invalida"
					},
					"response": []
				},
				{
					"name": "CARGUE MASIVO de Aprendices",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "archivo",
									"type": "file",
									"src": "/C:/Users/Aprendiz/Downloads/apprentices.csv",
									"description": "Archivo CSV con datos de aprendices"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/apprentices/loadMassiveApprentice",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"apprentices",
								"loadMassiveApprentice"
							]
						},
						"description": "### üì§ Cargue Masivo de Aprendices\n\nPermite cargar m√∫ltiples aprendices desde un archivo CSV.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN, INSTRUCTOR OWNER\n**Content-Type**: multipart/form-data\n\n#### üìÑ Formato del CSV:\n```csv\ndocumentNumber;documentType;recordNumber;firstName;lastName;emailInstitutional;emailPersonal;phone;password\n123456789;CC;2926076;Juan;P√©rez;jperez@sena.edu.co;juan@gmail.com;3001234567;\n987654321;CC;2926076;Mar√≠a;G√≥mez;mgomez@sena.edu.co;maria@gmail.com;3009876543;\n```\n\n#### üîç Campos del CSV:\n1. **documentNumber**: N√∫mero de documento\n2. **documentType**: Tipo de documento (CC, TI, CE)\n3. **recordNumber**: N√∫mero de ficha\n4. **firstName**: Nombres\n5. **lastName**: Apellidos\n6. **emailInstitutional**: Email institucional\n7. **emailPersonal**: Email personal\n8. **phone**: Tel√©fono\n9. **password**: Se puede dejar vac√≠o (usar√° el documento)\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Aprendiz o aprendices guardados\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- Primera l√≠nea debe ser el encabezado\n- Todos los documentos deben ser √∫nicos\n- Todos los emails deben ser √∫nicos\n- La ficha debe existir\n- Si un registro falla, no se guarda ninguno\n\n#### üí° Notas:\n- Delimitador: punto y coma (;)\n- Contrase√±a por defecto: n√∫mero de documento\n- Todos se crean en estado activo\n- El archivo se elimina despu√©s del procesamiento"
					},
					"response": []
				}
			]
		},
		{
			"name": "üë®‚Äçüè´ INSTRUCTORS (Instructores)",
			"description": "Endpoints para gesti√≥n de instructores del SENA.\n\n**Permisos**:\n- Login: P√∫blico\n- Otros endpoints: En desarrollo\n\n**Roles de instructor**:\n- Instructor de seguimiento\n- Instructor t√©cnico\n- Instructor de proyecto",
			"item": [
				{
					"name": "LOGIN Instructor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();",
									"if (response.token) {",
									"    pm.collectionVariables.set(\"token_instructor\", response.token);",
									"}",
									"",
									"pm.test(\"Status code es 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Respuesta contiene token\", function () {",
									"    pm.expect(response).to.have.property('token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"document\": \"99887767\",\n  \"password\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/instructors/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"instructors",
								"login"
							]
						},
						"description": "### üîê Login de Instructor\n\nPermite autenticar a un instructor en el sistema.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: No requiere\n**Permisos**: P√∫blico\n\n#### üì• Request Body:\n```json\n{\n  \"document\": \"99887767\",     // N√∫mero de documento del instructor\n  \"password\": \"12345678\"       // Contrase√±a\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Usuario logueado correctamente\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n```\n\n#### ‚ö†Ô∏è Errores Comunes:\n- **400**: Credenciales incorrectas\n- **401**: Instructor inactivo\n- **404**: Instructor no existe\n\n#### üí° Nota:\nEl token se guarda autom√°ticamente en `token_instructor`."
					},
					"response": []
				}
			]
		},
		{
			"name": "üëî ADMINS (Usuarios/Coordinadores)",
			"description": "Endpoints para gesti√≥n de usuarios administradores.\n\n**Roles disponibles**:\n- **ETAPA PRODUCTIVA VIRTUAL**: Coordinador modalidad virtual\n- **ETAPA PRODUCTIVA PRESENCIAL**: Coordinador modalidad presencial\n\n**Permisos**:\nM√°ximo nivel de acceso en el sistema.",
			"item": [
				{
					"name": "LOGIN Admin/Coordinador",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let response = pm.response.json();",
									"if (response.token) {",
									"    pm.collectionVariables.set(\"token_admin\", response.token);",
									"}",
									"",
									"pm.test(\"Status code es 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Respuesta contiene datos completos\", function () {",
									"    pm.expect(response).to.have.property('token');",
									"    pm.expect(response).to.have.property('role');",
									"    pm.expect(response).to.have.property('name');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"ETAPA PRODUCTIVA VIRTUAL\",\n  \"email\": \"etapaspruebas@gmail.com\",\n  \"password\": \"12345678\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/users/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"login"
							]
						},
						"description": "### üîê Login de Administrador/Coordinador\n\nPermite autenticar a usuarios administradores (coordinadores de EP).\n\n**M√©todo**: POST\n**Autenticaci√≥n**: No requiere\n**Permisos**: P√∫blico\n\n#### üì• Request Body:\n```json\n{\n  \"role\": \"ETAPA PRODUCTIVA VIRTUAL\",        // Rol requerido\n  \"email\": \"coordinador@gmail.com\",          // Email del usuario\n  \"password\": \"12345678\"                      // Contrase√±a\n}\n```\n\n#### üé≠ Roles V√°lidos:\n- `ETAPA PRODUCTIVA VIRTUAL`\n- `ETAPA PRODUCTIVA PRESENCIAL`\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Usuario logueado correctamente\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"email\": \"coordinador@gmail.com\",\n  \"role\": \"ETAPA PRODUCTIVA VIRTUAL\",\n  \"name\": \"Juan P√©rez\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El rol debe ser v√°lido y coincidir con el usuario\n- El email debe existir en el sistema\n- La contrase√±a debe ser correcta\n- El usuario debe estar activo\n\n#### üí° Nota:\n- El token se guarda autom√°ticamente en `token_admin`\n- Los coordinadores tienen acceso completo al sistema\n- Pueden gestionar aprendices, instructores, empresas, etc."
					},
					"response": []
				}
			]
		},
		{
			"name": "üè¢ COMPANIES (Empresas)",
			"description": "Endpoints para gesti√≥n de empresas donde se realizan las etapas productivas.\n\n**Permisos**:\n- Crear/Listar/Actualizar: ADMIN\n- Activar/Desactivar: ADMIN\n\n**Campos importantes**:\n- `company_nit`: NIT de la empresa (√∫nico)\n- `name`: Nombre de la empresa\n- `location`: Ubicaci√≥n/ciudad\n- `legal_representative_*`: Datos del representante legal\n- `status`: 0=Activa, 1=Inactiva",
			"item": [
				{
					"name": "CREAR Empresa",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"company_nit\": \"900123456-7\",\n  \"name\": \"Tech Solutions S.A.S.\",\n  \"location\": \"Bogot√°, Colombia\",\n  \"legal_representative_phone\": \"+57 3101234567\",\n  \"legal_representative_name\": \"Juan P√©rez\",\n  \"legal_representative_email\": \"juan.perez@techsolutions.com\",\n  \"legal_representative_position\": \"Gerente General\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/companies/saveCompanies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"saveCompanies"
							]
						},
						"description": "### ‚ûï Crear Nueva Empresa\n\nRegistra una nueva empresa en el sistema.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"company_nit\": \"900123456-7\",                           // Requerido, √∫nico\n  \"name\": \"Tech Solutions S.A.S.\",                        // Requerido\n  \"location\": \"Bogot√°, Colombia\",                         // Requerido\n  \"legal_representative_phone\": \"+57 3101234567\",         // Requerido\n  \"legal_representative_name\": \"Juan P√©rez\",              // Requerido\n  \"legal_representative_email\": \"juan@techsolutions.com\", // Requerido, email v√°lido\n  \"legal_representative_position\": \"Gerente General\"      // Requerido\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Compa√±ia creada correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El NIT debe ser √∫nico\n- El email debe tener formato v√°lido\n- Todos los campos son obligatorios\n- Los textos se guardan en may√∫sculas\n\n#### üí° Notas:\n- La empresa se crea en estado activo por defecto\n- Los datos del representante legal son importantes para documentos oficiales"
					},
					"response": []
				},
				{
					"name": "LISTAR Empresas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/listCompanies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"listCompanies"
							]
						},
						"description": "### üìã Listar Empresas\n\nObtiene todas las empresas registradas.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"68e2ce2caf5b6c3d172f3944\",\n      \"company_nit\": \"900123456-7\",\n      \"name\": \"TECH SOLUTIONS S.A.S.\",\n      \"location\": \"BOGOT√Å, COLOMBIA\",\n      \"legal_representative_phone\": \"+57 3101234567\",\n      \"legal_representative_name\": \"JUAN P√âREZ\",\n      \"legal_representative_email\": \"juan.perez@techsolutions.com\",\n      \"legal_representative_position\": \"GERENTE GENERAL\",\n      \"status\": 0,\n      \"createdAt\": \"2025-10-01T10:00:00.000Z\",\n      \"updatedAt\": \"2025-10-01T10:00:00.000Z\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Ordenadas por fecha de creaci√≥n (m√°s antiguas primero)\n- Incluye empresas activas e inactivas\n- Los textos est√°n en may√∫sculas"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Empresa",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"company_nit\": \"900123456-7\",\n  \"name\": \"Tech Solutions Colombia S.A.S.\",\n  \"location\": \"Medell√≠n, Colombia\",\n  \"legal_representative_phone\": \"+57 3101234567\",\n  \"legal_representative_name\": \"Juan P√©rez G√≥mez\",\n  \"legal_representative_email\": \"juan.perez@techsolutions.com\",\n  \"legal_representative_position\": \"CEO\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/companies/updateCompanies/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"updateCompanies",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2ce2caf5b6c3d172f3944"
								}
							]
						},
						"description": "### ‚úèÔ∏è Actualizar Empresa\n\nActualiza los datos de una empresa existente.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\nTodos los campos son requeridos (mismo formato que crear).\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Compa√±ia actualizada\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El ID debe existir\n- Si se cambia el NIT, el nuevo debe ser √∫nico\n- Todos los campos son obligatorios"
					},
					"response": []
				},
				{
					"name": "ACTIVAR Empresa",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/activeCompanies/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"activeCompanies",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2ce2caf5b6c3d172f3944"
								}
							]
						},
						"description": "### ‚úÖ Activar Empresa\n\nCambia el estado de la empresa a activa.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Empresa activada correctamente\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `status` a 0\n- La empresa puede ser asignada a registros EP"
					},
					"response": []
				},
				{
					"name": "DESACTIVAR Empresa",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/companies/inactiveCompanies/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"companies",
								"inactiveCompanies",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2ce2caf5b6c3d172f3944"
								}
							]
						},
						"description": "### ‚ùå Desactivar Empresa\n\nCambia el estado de la empresa a inactiva.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Empresa desactivada correctamente\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `status` a 1\n- No se puede asignar a nuevos registros EP\n- Los registros existentes no se afectan"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìö MODALITIES (Modalidades EP)",
			"description": "Endpoints para gesti√≥n de modalidades de etapa productiva.\n\n**Modalidades comunes**:\n- Contrato de aprendizaje\n- Vinculaci√≥n laboral\n- Proyecto productivo\n- Monitor√≠a\n- Unidad productiva familiar\n\n**Permisos**:\n- Crear/Actualizar/Eliminar: ADMIN\n- Listar: ADMIN, APRENDIZ\n- Activar/Desactivar: ADMIN",
			"item": [
				{
					"name": "CREAR Modalidad",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"CONTRATO DE APRENDIZAJE\",\n  \"description\": \"Modalidad de contrato de aprendizaje en empresa\",\n  \"standard_hours\": 864,\n  \"requires_follow_up_instructor\": 1,\n  \"requires_technical_instructor\": 1,\n  \"requires_project_instructor\": 0\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/modalities/saveModalities",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"saveModalities"
							]
						},
						"description": "### ‚ûï Crear Nueva Modalidad\n\nRegistra una nueva modalidad de etapa productiva.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"name\": \"CONTRATO DE APRENDIZAJE\",                      // Requerido, √∫nico\n  \"description\": \"Modalidad de contrato...\",              // Requerido\n  \"standard_hours\": 864,                                   // Requerido, horas est√°ndar\n  \"requires_follow_up_instructor\": 1,                      // 0 o 1 (boolean)\n  \"requires_technical_instructor\": 1,                      // 0 o 1\n  \"requires_project_instructor\": 0                         // 0 o 1\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Modalidad creada correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El nombre debe ser √∫nico\n- Todos los campos son obligatorios\n- Los valores booleanos deben ser 0 o 1\n- standard_hours debe ser num√©rico\n\n#### üí° Notas:\n- El nombre se guarda en may√∫sculas\n- Los campos `requires_*` determinan qu√© instructores se necesitan\n- Se crea en estado activo por defecto"
					},
					"response": []
				},
				{
					"name": "LISTAR Modalidades",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/modalities/listModalities?name=CONTRATO&requires_follow_up_instructor=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"listModalities"
							],
							"query": [
								{
									"key": "name",
									"value": "CONTRATO",
									"description": "Filtrar por nombre"
								},
								{
									"key": "requires_follow_up_instructor",
									"value": "1",
									"description": "Filtrar por instructor de seguimiento"
								},
								{
									"key": "requires_technical_instructor",
									"value": "1",
									"description": "Filtrar por instructor t√©cnico",
									"disabled": true
								},
								{
									"key": "requires_project_instructor",
									"value": "0",
									"description": "Filtrar por instructor de proyecto",
									"disabled": true
								}
							]
						},
						"description": "### üìã Listar Modalidades\n\nObtiene lista de modalidades con filtros opcionales.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN, APRENDIZ\n\n#### üîç Query Parameters (Opcionales):\n- `name`: Buscar por nombre (case insensitive)\n- `requires_follow_up_instructor`: 0 o 1\n- `requires_technical_instructor`: 0 o 1\n- `requires_project_instructor`: 0 o 1\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"68d4a43ea3d837b79a47523a\",\n      \"name\": \"CONTRATO DE APRENDIZAJE\",\n      \"description\": \"MODALIDAD DE CONTRATO...\",\n      \"standard_hours\": 864,\n      \"requires_follow_up_instructor\": 1,\n      \"requires_technical_instructor\": 1,\n      \"requires_project_instructor\": 0,\n      \"status\": 0,\n      \"createdAt\": \"2025-09-20T...\",\n      \"updatedAt\": \"2025-09-20T...\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Sin filtros, devuelve todas las modalidades\n- Ordenadas por fecha de creaci√≥n (m√°s recientes primero)\n- Los aprendices pueden ver solo para elegir al registrarse"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Modalidad",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"CONTRATO DE APRENDIZAJE EMPRESARIAL\",\n  \"description\": \"Modalidad actualizada de contrato\",\n  \"standard_hours\": 880,\n  \"requires_follow_up_instructor\": 1,\n  \"requires_technical_instructor\": 1,\n  \"requires_project_instructor\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/modalities/updateModalities/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"updateModalities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68d4a43ea3d837b79a47523a"
								}
							]
						},
						"description": "### ‚úèÔ∏è Actualizar Modalidad\n\nActualiza una modalidad existente.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\nTodos los campos son requeridos (mismo formato que crear).\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Modalidad actualizada correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El ID debe existir\n- Si se cambia el nombre, el nuevo debe ser √∫nico\n- Todos los campos obligatorios"
					},
					"response": []
				},
				{
					"name": "ACTIVAR Modalidad",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/modalities/activeModalities/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"activeModalities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68d4a43ea3d837b79a47523a"
								}
							]
						},
						"description": "### ‚úÖ Activar Modalidad\n\nCambia el estado de la modalidad a activa.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Modalidad activada correctamente\"\n}\n```"
					},
					"response": []
				},
				{
					"name": "DESACTIVAR Modalidad",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/modalities/inactiveModalities/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"inactiveModalities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68d4a43ea3d837b79a47523a"
								}
							]
						},
						"description": "### ‚ùå Desactivar Modalidad\n\nCambia el estado de la modalidad a inactiva.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Modalidad desactivada correctamente\"\n}\n```"
					},
					"response": []
				},
				{
					"name": "ELIMINAR Modalidad",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/modalities/deleteModalities/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"modalities",
								"deleteModalities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68d4a3fa69c8ef0c8f5eaacc"
								}
							]
						},
						"description": "### üóëÔ∏è Eliminar Modalidad\n\nElimina permanentemente una modalidad.\n\n**M√©todo**: DELETE\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Modalidad eliminada correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è ADVERTENCIA:\n- Acci√≥n permanente\n- No eliminar modalidades en uso\n- Considerar desactivar en lugar de eliminar"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìö PROGRAMS (Programas de Formaci√≥n)",
			"description": "Endpoint para consulta de programas de formaci√≥n del SENA.\n\n**Estados**:\n- 0: ACTIVO (puede usarse en fichas)\n- 1: INACTIVO (no disponible)\n\n**Niveles de programa**:\n- AUXILIAR, TECNICO, TECNOLOGO, OPERARIO\n\n**Modalidades administrativas**:\n- PRESENCIAL, VIRTUAL_DISTANCIA\n\n**Permisos**:\n- Consulta: ETAPA PRODUCTIVA VIRTUAL, ETAPA PRODUCTIVA PRESENCIAL",
			"item": [
				{
					"name": "LISTAR Programas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/programs/listPrograms",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"programs",
								"listPrograms"
							],
							"query": [
								{
									"key": "status",
									"value": "0",
									"description": "Filtrar por estado (0=activo, 1=inactivo)",
									"disabled": true
								},
								{
									"key": "program_level",
									"value": "TECNOLOGO",
									"description": "Filtrar por nivel (AUXILIAR, TECNICO, TECNOLOGO, OPERARIO)",
									"disabled": true
								},
								{
									"key": "admin_modality",
									"value": "PRESENCIAL",
									"description": "Filtrar por modalidad (PRESENCIAL, VIRTUAL_DISTANCIA)",
									"disabled": true
								},
								{
									"key": "code",
									"value": "228116",
									"description": "Buscar por c√≥digo (case insensitive)",
									"disabled": true
								},
								{
									"key": "version",
									"value": "1",
									"description": "Buscar por versi√≥n (case insensitive)",
									"disabled": true
								}
							]
						},
						"description": "### üìã Listar Programas de Formaci√≥n\n\nObtiene lista de programas con filtros opcionales.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ETAPA PRODUCTIVA VIRTUAL, ETAPA PRODUCTIVA PRESENCIAL\n\n#### üîç Query Parameters (Todos opcionales):\n- `status`: Filtrar por estado\n  - 0: ACTIVO\n  - 1: INACTIVO\n- `program_level`: Filtrar por nivel\n  - AUXILIAR\n  - TECNICO\n  - TECNOLOGO\n  - OPERARIO\n- `admin_modality`: Filtrar por modalidad administrativa\n  - PRESENCIAL\n  - VIRTUAL_DISTANCIA\n- `code`: Buscar por c√≥digo (case insensitive)\n- `version`: Buscar por versi√≥n (case insensitive)\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"64a48c9862abd793f5ce7e1e\",\n      \"code\": \"228116\",\n      \"name\": \"IMPLEMENTACION DE INFRAESTRUCTURA DE TECNOLOGIAS DE LA INFORMACION Y LA COMUNICACION\",\n      \"version\": \"1\",\n      \"program_level\": \"TECNOLOGO\",\n      \"admin_modality\": \"PRESENCIAL\",\n      \"status\": 0,\n      \"createdAt\": \"2023-07-04T21:18:16.347Z\",\n      \"updatedAt\": \"2023-07-04T21:18:16.347Z\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Sin filtros, devuelve todos los programas\n- Los filtros se pueden combinar\n- Ordenados por fecha de creaci√≥n (m√°s recientes primero)\n- √ötil para selecci√≥n en formularios de fichas y registros"
					},
					"response": []
				},
				{
					"name": "OBTENER Programa por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/programs/getProgramById/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"programs",
								"getProgramById",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "64a48c9862abd793f5ce7e1e"
								}
							]
						},
						"description": "### üîç Obtener Programa por ID\n\nObtiene la informaci√≥n completa de un programa espec√≠fico.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ETAPA PRODUCTIVA VIRTUAL, ETAPA PRODUCTIVA PRESENCIAL\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": {\n    \"_id\": \"64a48c9862abd793f5ce7e1e\",\n    \"code\": \"228116\",\n    \"name\": \"IMPLEMENTACION DE INFRAESTRUCTURA DE TECNOLOGIAS DE LA INFORMACION Y LA COMUNICACION\",\n    \"version\": \"1\",\n    \"program_level\": \"TECNOLOGO\",\n    \"admin_modality\": \"PRESENCIAL\",\n    \"status\": 0,\n    \"createdAt\": \"2023-07-04T21:18:16.347Z\",\n    \"updatedAt\": \"2023-07-04T21:18:16.347Z\"\n  }\n}\n```\n\n#### üí° Notas:\n- √ötil para obtener detalles completos de un programa\n- Valida que el ID exista antes de consultar"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù REGISTRATIONS (Registros EP)",
			"description": "Endpoints para gesti√≥n de registros de etapas productivas.\n\n**Flujo del proceso**:\n1. Aprendiz crea registro (PENDIENTE)\n2. Admin valida (APROBADO/RECHAZADO)\n3. Si aprobado, se puede crear proyecto\n\n**Estados**:\n- 0: APROBADO\n- 1: RECHAZADO\n- 3: PENDIENTE\n\n**Permisos**:\n- Crear/Actualizar: APRENDIZ\n- Listar/Validar/Eliminar: ADMIN",
			"item": [
				{
					"name": "CREAR Registro EP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_aprendiz}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"registration_number\": \"REG-2025-001\",\n  \"modality_id\": \"68d4a43ea3d837b79a47523a\",\n  \"company_id\": \"68e2ce2caf5b6c3d172f3944\",\n  \"scheduled_start_date\": \"2025-11-15\",\n  \"total_requested_hours\": 864,\n  \"working_days\": 5,\n  \"daily_hours\": 8,\n  \"apprentice_observations\": \"Solicito realizar mi EP en esta empresa\",\n  \"uploaded_documents\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/registrations/saveRegistration",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"saveRegistration"
							]
						},
						"description": "### ‚ûï Crear Registro de Etapa Productiva\n\nPermite al aprendiz solicitar su registro de EP.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: APRENDIZ\n\n#### üì• Request Body:\n```json\n{\n  \"registration_number\": \"REG-2025-001\",                    // Requerido, √∫nico\n  \"modality_id\": \"68d4a43ea3d837b79a47523a\",              // Requerido, ObjectId v√°lido\n  \"company_id\": \"68e2ce2caf5b6c3d172f3944\",               // Opcional (algunas modalidades no requieren)\n  \"scheduled_start_date\": \"2025-11-15\",                    // Requerido, formato YYYY-MM-DD\n  \"total_requested_hours\": 864,                            // Requerido, num√©rico\n  \"working_days\": 5,                                        // Opcional, por defecto 5\n  \"daily_hours\": 8,                                         // Opcional, por defecto 8\n  \"apprentice_observations\": \"Solicito realizar...\",       // Opcional\n  \"uploaded_documents\": []                                  // Opcional, array\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Registro creado correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El n√∫mero de registro debe ser √∫nico\n- El aprendiz no debe tener otro registro activo (PENDIENTE o APROBADO)\n- La modalidad debe existir y estar activa\n- Si se proporciona empresa, debe existir y estar activa\n- La fecha debe ser futura\n\n#### üí° Notas:\n- El registro se crea con estado PENDIENTE (3)\n- El apprentice_id se toma del token JWT\n- Se registra en el log de auditor√≠a\n- El admin debe validarlo posteriormente"
					},
					"response": []
				},
				{
					"name": "LISTAR Registros",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/registrations/listRegistrations?registration_status=3",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"listRegistrations"
							],
							"query": [
								{
									"key": "registration_number",
									"value": "REG-2025-001",
									"description": "Filtrar por n√∫mero de registro",
									"disabled": true
								},
								{
									"key": "apprentice_id",
									"value": "68db0ea84fbe82bc4d10eff4",
									"description": "Filtrar por ID de aprendiz",
									"disabled": true
								},
								{
									"key": "modality_id",
									"value": "68d4a43ea3d837b79a47523a",
									"description": "Filtrar por modalidad",
									"disabled": true
								},
								{
									"key": "company_id",
									"value": "68e2ce2caf5b6c3d172f3944",
									"description": "Filtrar por empresa",
									"disabled": true
								},
								{
									"key": "registration_status",
									"value": "3",
									"description": "Filtrar por estado (0=APROBADO, 1=RECHAZADO, 3=PENDIENTE)"
								}
							]
						},
						"description": "### üìã Listar Registros de EP\n\nObtiene lista de registros con filtros opcionales.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üîç Query Parameters (Opcionales):\n- `registration_number`: Buscar por n√∫mero de registro\n- `apprentice_id`: Filtrar por aprendiz\n- `modality_id`: Filtrar por modalidad\n- `company_id`: Filtrar por empresa\n- `registration_status`: Filtrar por estado\n  - 0: APROBADO\n  - 1: RECHAZADO\n  - 3: PENDIENTE\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"68e473ae9d2b5322db11e01f\",\n      \"registration_number\": \"REG-2025-001\",\n      \"apprentice_id\": {\n        \"_id\": \"...\",\n        \"firstName\": \"JUAN\",\n        \"lastName\": \"P√âREZ\",\n        \"documentNumber\": \"123456789\"\n      },\n      \"modality_id\": {\n        \"_id\": \"...\",\n        \"name\": \"CONTRATO DE APRENDIZAJE\"\n      },\n      \"company_id\": {\n        \"_id\": \"...\",\n        \"name\": \"TECH SOLUTIONS S.A.S.\"\n      },\n      \"registration_date\": \"2025-10-05T10:00:00.000Z\",\n      \"scheduled_start_date\": \"2025-11-15T00:00:00.000Z\",\n      \"total_requested_hours\": 864,\n      \"working_days\": 5,\n      \"daily_hours\": 8,\n      \"registration_status\": 3,\n      \"apprentice_observations\": [\n        {\n          \"descripcion\": \"SOLICITO REALIZAR MI EP...\",\n          \"escrito_por\": \"APRENDIZ\",\n          \"fecha\": \"2025-10-05T10:00:00.000Z\"\n        }\n      ],\n      \"admin_observations\": [],\n      \"uploaded_documents\": [],\n      \"validated_by_id\": null,\n      \"validation_date\": null,\n      \"createdAt\": \"2025-10-05T10:00:00.000Z\",\n      \"updatedAt\": \"2025-10-05T10:00:00.000Z\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Sin filtros, devuelve todos los registros\n- Ordenados por fecha de creaci√≥n (m√°s recientes primero)\n- Incluye populate de aprendiz, modalidad y empresa\n- √ötil para dashboard de aprobaciones"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Registro",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_aprendiz}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"scheduled_start_date\": \"2025-12-01\",\n  \"total_requested_hours\": 900,\n  \"working_days\": 6,\n  \"daily_hours\": 8,\n  \"apprentice_observations\": \"Actualizaci√≥n de horario: ahora incluye s√°bados\",\n  \"uploaded_documents\": [\"documento1.pdf\", \"documento2.pdf\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/registrations/updateRegistration/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"updateRegistration",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e473ae9d2b5322db11e01f"
								}
							]
						},
						"description": "### ‚úèÔ∏è Actualizar Registro de EP\n\nPermite al aprendiz actualizar su registro antes de ser validado.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: APRENDIZ\n\n#### üì• Request Body (Todos opcionales):\n```json\n{\n  \"scheduled_start_date\": \"2025-12-01\",             // Opcional\n  \"total_requested_hours\": 900,                      // Opcional\n  \"working_days\": 6,                                  // Opcional\n  \"daily_hours\": 8,                                   // Opcional\n  \"apprentice_observations\": \"Actualizaci√≥n...\",     // Opcional, se agrega al array\n  \"uploaded_documents\": [\"doc1.pdf\", \"doc2.pdf\"]    // Opcional\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Registro actualizado correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è Notas:\n- Solo el aprendiz propietario puede actualizar\n- Las nuevas observaciones se AGREGAN al array existente\n- NO se pueden cambiar: modalidad, empresa, n√∫mero de registro\n- Los documentos se REEMPLAZAN (no se agregan)\n- Se registra en el log con datos previos y nuevos"
					},
					"response": []
				},
				{
					"name": "VALIDAR Registro (APROBAR)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"registration_status\": 0,\n  \"admin_observations\": \"Documentos completos y verificados. Registro aprobado para iniciar etapa productiva.\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/registrations/validateRegistration/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"validateRegistration",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e473ae9d2b5322db11e01f"
								}
							]
						},
						"description": "### ‚úÖ Aprobar Registro de EP\n\nPermite al coordinador aprobar un registro.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"registration_status\": 0,                              // 0 = APROBADO\n  \"admin_observations\": \"Documentos completos...\"        // Opcional pero recomendado\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Registro validado correctamente\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `registration_status` a 0 (APROBADO)\n- Registra la fecha de validaci√≥n\n- Guarda el ID del usuario que valid√≥\n- Agrega observaci√≥n al historial\n- Permite crear proyecto posteriormente\n- Se registra en el log de auditor√≠a"
					},
					"response": []
				},
				{
					"name": "VALIDAR Registro (RECHAZAR)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"registration_status\": 1,\n  \"admin_observations\": \"Faltan documentos: carta de presentaci√≥n y acuerdo de aprendizaje firmado. Por favor completar y volver a solicitar.\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/registrations/validateRegistration/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"validateRegistration",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e473ae9d2b5322db11e01f"
								}
							]
						},
						"description": "### ‚ùå Rechazar Registro de EP\n\nPermite al coordinador rechazar un registro.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"registration_status\": 1,                              // 1 = RECHAZADO\n  \"admin_observations\": \"Faltan documentos...\"           // Requerido, explicar motivo\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Registro validado correctamente\"\n}\n```\n\n#### üí° Efectos:\n- Cambia `registration_status` a 1 (RECHAZADO)\n- Es MUY IMPORTANTE incluir observaciones detalladas\n- El aprendiz puede ver las observaciones\n- Puede crear un nuevo registro despu√©s"
					},
					"response": []
				},
				{
					"name": "ELIMINAR Registro",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/registrations/deleteRegistration/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"registrations",
								"deleteRegistration",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e473ae9d2b5322db11e01f"
								}
							]
						},
						"description": "### üóëÔ∏è Eliminar Registro\n\nElimina permanentemente un registro de EP.\n\n**M√©todo**: DELETE\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Registro eliminado correctamente\"\n}\n```\n\n#### ‚ö†Ô∏è ADVERTENCIA:\n- Acci√≥n PERMANENTE\n- No eliminar registros con proyectos asociados\n- Considerar rechazar en lugar de eliminar\n- Se registra en el log de auditor√≠a"
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öôÔ∏è PARAMETERS (Par√°metros del Sistema)",
			"description": "Endpoints para gesti√≥n de par√°metros configurables del sistema.\n\n**Tipos de par√°metros**:\n- STRING: Texto\n- NUMBER: Num√©rico\n- BOOLEAN: Verdadero/Falso\n- DATE: Fecha\n\n**Categor√≠as**:\n- SYSTEM: Configuraci√≥n del sistema\n- ACADEMIC: Configuraci√≥n acad√©mica\n- EMAIL: Configuraci√≥n de email\n- LOGBOOK: Configuraci√≥n de bit√°cora\n- SECURITY: Configuraci√≥n de seguridad\n- FILES: Configuraci√≥n de archivos\n\n**Permisos**: Todos los endpoints requieren autenticaci√≥n",
			"item": [
				{
					"name": "LISTAR Par√°metros",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/parameters/listParameters",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"listParameters"
							]
						},
						"description": "### üìã Listar Todos los Par√°metros\n\nObtiene todos los par√°metros del sistema.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: No requiere\n**Permisos**: P√∫blico\n\n#### üì§ Response (200 OK):\n```json\n[\n  {\n    \"_id\": \"68e2bf71fe0153e33279e815\",\n    \"name\": \"MAX_FILE_SIZE_MB\",\n    \"value\": 10,\n    \"type\": \"NUMBER\",\n    \"description\": \"Tama√±o m√°ximo de archivo en MB\",\n    \"category\": \"FILES\",\n    \"status\": 0,\n    \"createdAt\": \"2025-10-01T...\",\n    \"updatedAt\": \"2025-10-01T...\"\n  }\n]\n```\n\n#### üí° Notas:\n- Ordenados por fecha de creaci√≥n (m√°s recientes primero)\n- Incluye activos e inactivos"
					},
					"response": []
				},
				{
					"name": "FILTRAR Par√°metros",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/parameters/filterParameters?type=NUMBER&category=FILES&status=0",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"filterParameters"
							],
							"query": [
								{
									"key": "name",
									"value": "MAX_FILE",
									"description": "Buscar por nombre (parcial)",
									"disabled": true
								},
								{
									"key": "type",
									"value": "NUMBER",
									"description": "Filtrar por tipo (STRING, NUMBER, BOOLEAN, DATE)"
								},
								{
									"key": "category",
									"value": "FILES",
									"description": "Filtrar por categor√≠a"
								},
								{
									"key": "status",
									"value": "0",
									"description": "Filtrar por estado (0=activo, 1=inactivo)"
								},
								{
									"key": "page",
									"value": "1",
									"description": "P√°gina (default: 1)",
									"disabled": true
								},
								{
									"key": "limit",
									"value": "50",
									"description": "Registros por p√°gina (default: 50)",
									"disabled": true
								}
							]
						},
						"description": "### üîç Filtrar Par√°metros\n\nBusca par√°metros con filtros avanzados y paginaci√≥n.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: No requiere\n**Permisos**: P√∫blico\n\n#### üîç Query Parameters (Opcionales):\n- `name`: Buscar por nombre (case insensitive)\n- `type`: STRING, NUMBER, BOOLEAN, DATE\n- `category`: SYSTEM, ACADEMIC, EMAIL, LOGBOOK, SECURITY, FILES\n- `status`: 0 (activo), 1 (inactivo), 2 (deprecado)\n- `page`: N√∫mero de p√°gina (default: 1)\n- `limit`: Registros por p√°gina (default: 50)\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"data\": [...],\n  \"pagination\": {\n    \"current_page\": 1,\n    \"total_pages\": 2,\n    \"total_records\": 75,\n    \"records_per_page\": 50\n  },\n  \"filters_applied\": {\n    \"type\": \"NUMBER\",\n    \"category\": \"FILES\",\n    \"status\": 0\n  }\n}\n```"
					},
					"response": []
				},
				{
					"name": "CREAR Par√°metro",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"LOGBOOK_MIN_ENTRIES_WEEK\",\n  \"value\": 3,\n  \"type\": \"NUMBER\",\n  \"description\": \"N√∫mero m√≠nimo de entradas de bit√°cora requeridas por semana\",\n  \"category\": \"LOGBOOK\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/parameters/createParameter",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"createParameter"
							]
						},
						"description": "### ‚ûï Crear Par√°metro\n\nCrea un nuevo par√°metro de configuraci√≥n.\n\n**M√©todo**: POST\n**Autenticaci√≥n**: Requerida (impl√≠cito)\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"name\": \"LOGBOOK_MIN_ENTRIES_WEEK\",                        // Requerido, √∫nico, 3-50 caracteres\n  \"value\": 3,                                                  // Requerido, tipo seg√∫n 'type'\n  \"type\": \"NUMBER\",                                            // Requerido (STRING, NUMBER, BOOLEAN, DATE)\n  \"description\": \"N√∫mero m√≠nimo de entradas...\",              // Requerido, 10-200 caracteres\n  \"category\": \"LOGBOOK\"                                        // Requerido\n}\n```\n\n#### üéØ Tipos y Valores:\n```javascript\n// STRING\n{ \"value\": \"texto cualquiera\", \"type\": \"STRING\" }\n\n// NUMBER\n{ \"value\": 42, \"type\": \"NUMBER\" }\n\n// BOOLEAN\n{ \"value\": true, \"type\": \"BOOLEAN\" }\n\n// DATE\n{ \"value\": \"2025-12-31T23:59:59.000Z\", \"type\": \"DATE\" }\n```\n\n#### üì§ Response (201 OK):\n```json\n{\n  \"msg\": \"Parameter created successfully\",\n  \"data\": {...}\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- El nombre debe ser √∫nico\n- El valor debe coincidir con el tipo\n- Nombre: 3-50 caracteres\n- Descripci√≥n: 10-200 caracteres\n- El nombre se convierte a MAY√öSCULAS"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Par√°metro",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"LOGBOOK_MIN_ENTRIES_WEEK\",\n  \"value\": 5,\n  \"type\": \"NUMBER\",\n  \"description\": \"N√∫mero m√≠nimo de entradas de bit√°cora (actualizado)\",\n  \"category\": \"LOGBOOK\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/parameters/updateParameter/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"updateParameter",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2bf71fe0153e33279e815"
								}
							]
						},
						"description": "### ‚úèÔ∏è Actualizar Par√°metro\n\nActualiza un par√°metro existente.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida\n**Permisos**: ADMIN\n\n#### üì• Request Body (Todos opcionales):\nSe pueden enviar solo los campos a actualizar.\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Parameter updated successfully\",\n  \"data\": {...}\n}\n```\n\n#### ‚ö†Ô∏è Validaciones:\n- Si se cambia el nombre, el nuevo debe ser √∫nico\n- El valor debe coincidir con el tipo\n- Mismas validaciones que crear"
					},
					"response": []
				},
				{
					"name": "ACTUALIZAR Estado de Par√°metro",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/parameters/updateParameterStatus/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"updateParameterStatus",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2bf71fe0153e33279e815"
								}
							]
						},
						"description": "### üîÑ Actualizar Estado de Par√°metro\n\nCambia el estado de activaci√≥n de un par√°metro.\n\n**M√©todo**: PUT\n**Autenticaci√≥n**: Requerida\n**Permisos**: ADMIN\n\n#### üì• Request Body:\n```json\n{\n  \"status\": 1    // 0=inactivo, 1=activo, 2=deprecado\n}\n```\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Parameter status updated successfully\",\n  \"data\": {...}\n}\n```"
					},
					"response": []
				},
				{
					"name": "ELIMINAR Par√°metro",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/parameters/deleteParameter/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"parameters",
								"deleteParameter",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "68e2bf30fe0153e33279e80f"
								}
							]
						},
						"description": "### üóëÔ∏è Eliminar Par√°metro\n\nElimina permanentemente un par√°metro.\n\n**M√©todo**: DELETE\n**Autenticaci√≥n**: Requerida\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": \"Parameter deleted successfully\",\n  \"data\": {...}\n}\n```\n\n#### ‚ö†Ô∏è Restricciones:\n- No se pueden eliminar par√°metros cr√≠ticos:\n  - EMAIL_FROM_ADDRESS\n  - SESSION_TIMEOUT_MINUTES\n  - MAX_FILE_SIZE_MB\n- No se pueden eliminar par√°metros activos (status=1)\n- Primero desactivar, luego eliminar"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä LOGS (Auditor√≠a)",
			"description": "Endpoints para consultar logs de auditor√≠a del sistema.\n\n**Informaci√≥n registrada**:\n- Qui√©n: Usuario que realiz√≥ la acci√≥n\n- Qu√©: Tipo de acci√≥n (CREATE, UPDATE, DELETE, etc.)\n- Cu√°ndo: Fecha y hora\n- D√≥nde: Tabla/m√≥dulo afectado\n- Datos: Estado anterior y nuevo (para UPDATE)\n- IP: Direcci√≥n IP del cliente\n\n**Permisos**: Solo ADMIN",
			"item": [
				{
					"name": "LISTAR Logs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/logs/listLogs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"logs",
								"listLogs"
							]
						},
						"description": "### üìã Listar Todos los Logs\n\nObtiene todos los registros de auditor√≠a.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n[\n  {\n    \"_id\": \"...\",\n    \"action\": \"CREATE\",\n    \"affected_table\": \"APPRENTICES\",\n    \"affected_record_id\": \"68db0ea84fbe82bc4d10eff4\",\n    \"previous_data\": null,\n    \"new_data\": {\n      \"documentNumber\": \"123456789\",\n      \"firstName\": \"JUAN\",\n      \"lastName\": \"P√âREZ\"\n    },\n    \"user\": \"ADMIN ETAPAS\",\n    \"user_id\": \"66f1d19b71e7d8e0b4b6418f\",\n    \"module\": \"APPRENTICES\",\n    \"level\": \"INFO\",\n    \"description\": \"Nuevo aprendiz creado\",\n    \"ip_address\": \"192.168.1.100\",\n    \"createdAt\": \"2025-10-05T10:00:00.000Z\"\n  }\n]\n```\n\n#### üí° Notas:\n- Ordenados por fecha (m√°s recientes primero)\n- No hay paginaci√≥n en este endpoint\n- Para filtros usar `/filterLogs`"
					},
					"response": []
				},
				{
					"name": "FILTRAR Logs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/logs/filterLogs?action=UPDATE&module=APPRENTICES&level=INFO&page=1&limit=50",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"logs",
								"filterLogs"
							],
							"query": [
								{
									"key": "action",
									"value": "UPDATE",
									"description": "Tipo de acci√≥n"
								},
								{
									"key": "module",
									"value": "APPRENTICES",
									"description": "M√≥dulo del sistema"
								},
								{
									"key": "level",
									"value": "INFO",
									"description": "Nivel de severidad"
								},
								{
									"key": "affected_table",
									"value": "APPRENTICES",
									"description": "Tabla afectada",
									"disabled": true
								},
								{
									"key": "user",
									"value": "Juan",
									"description": "Buscar por nombre de usuario (parcial)",
									"disabled": true
								},
								{
									"key": "start_date",
									"value": "2025-10-01",
									"description": "Fecha inicial (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "end_date",
									"value": "2025-10-31",
									"description": "Fecha final (YYYY-MM-DD)",
									"disabled": true
								},
								{
									"key": "page",
									"value": "1",
									"description": "N√∫mero de p√°gina"
								},
								{
									"key": "limit",
									"value": "50",
									"description": "Registros por p√°gina (default: 50)"
								}
							]
						},
						"description": "### üîç Filtrar Logs de Auditor√≠a\n\nBusca logs con m√∫ltiples filtros y paginaci√≥n.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üîç Query Parameters (Opcionales):\n\n**Acciones disponibles**:\n- CREATE, UPDATE, DELETE, LOGIN, LOGOUT, VIEW, EXPORT, IMPORT\n- ASSIGN, APPROVE, REJECT, SUBMIT, ACTIVATE, DEACTIVATE\n- RESET_PASSWORD, EVALUATE, COMMENT, BACKUP, RESTORE, ERROR\n\n**M√≥dulos disponibles**:\n- APPRENTICES, INSTRUCTORS, COMPANIES, PROJECTS, ACTIVITIES\n- TRACKINGS, PS_MODALITIES, PARAMETERS, USERS, REPORTS\n- LOGS, SYSTEM, GENERAL\n\n**Niveles disponibles**:\n- INFO: Informaci√≥n general\n- WARNING: Advertencias\n- ERROR: Errores\n- CRITICAL: Errores cr√≠ticos\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"data\": [\n    {\n      \"_id\": \"...\",\n      \"action\": \"UPDATE\",\n      \"affected_table\": \"APPRENTICES\",\n      \"affected_record_id\": \"68db0ea84fbe82bc4d10eff4\",\n      \"previous_data\": {\n        \"phone\": \"3001234567\",\n        \"email\": { \"personal\": \"old@gmail.com\" }\n      },\n      \"new_data\": {\n        \"phone\": \"3009998888\",\n        \"email\": { \"personal\": \"new@gmail.com\" }\n      },\n      \"user\": \"JUAN P√âREZ\",\n      \"user_id\": {\n        \"_id\": \"...\",\n        \"name\": \"JUAN P√âREZ\",\n        \"email\": \"juan@example.com\"\n      },\n      \"module\": \"APPRENTICES\",\n      \"level\": \"INFO\",\n      \"description\": \"Aprendiz actualizado\",\n      \"ip_address\": \"192.168.1.100\",\n      \"createdAt\": \"2025-10-05T10:00:00.000Z\"\n    }\n  ],\n  \"pagination\": {\n    \"current_page\": 1,\n    \"total_pages\": 5,\n    \"total_records\": 243,\n    \"records_per_page\": 50\n  },\n  \"filters_applied\": {\n    \"action\": \"UPDATE\",\n    \"module\": \"APPRENTICES\",\n    \"level\": \"INFO\"\n  }\n}\n```\n\n#### üí° Casos de Uso:\n```javascript\n// Ver todas las acciones de un usuario\n/logs/filterLogs?user=Juan+P√©rez\n\n// Auditar cambios en aprendices hoy\n/logs/filterLogs?module=APPRENTICES&start_date=2025-10-06&end_date=2025-10-06\n\n// Buscar errores cr√≠ticos\n/logs/filterLogs?level=CRITICAL\n\n// Ver eliminaciones\n/logs/filterLogs?action=DELETE\n\n// Auditar logins\n/logs/filterLogs?action=LOGIN&start_date=2025-10-01\n```"
					},
					"response": []
				}
			]
		},
		{
			"name": "üì∞ NEWS (Novedades SOFIA Plus)",
			"description": "Endpoints para gesti√≥n de novedades importadas desde SOFIA Plus.\n\n**Nota**: Estos endpoints est√°n en desarrollo y pueden cambiar.\n\n**Permisos**: Solo ADMIN",
			"item": [
				{
					"name": "LISTAR Novedades",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/news/listNews",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"news",
								"listNews"
							]
						},
						"description": "### üìã Listar Novedades\n\nObtiene las novedades registradas (limitado a 50).\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"...\",\n      \"code\": 12345,\n      \"tpnew\": \"RETIRO VOLUNTARIO\",\n      \"document\": \"123456789\",\n      \"name\": \"JUAN P√âREZ\",\n      \"email\": \"juan@example.com\",\n      \"phone\": \"3001234567\",\n      \"fiche\": \"...\",\n      \"coordination\": \"...\",\n      \"datesofia\": \"2025-10-01T00:00:00.000Z\",\n      \"processed\": false,\n      \"state\": \"REGISTRADA\",\n      \"createdAt\": \"2025-10-01T10:00:00.000Z\"\n    }\n  ]\n}\n```\n\n#### üí° Nota:\n- Limitado a 50 registros\n- Sin paginaci√≥n actualmente\n- Datos importados de SOFIA Plus"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìë FICHES (Fichas de Formaci√≥n)",
			"description": "Endpoints para consultar informaci√≥n de fichas de formaci√≥n.\n\n**Permisos**: ADMIN, INSTRUCTOR",
			"item": [
				{
					"name": "LISTAR Fichas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-token",
								"value": "{{token_admin}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/fiches/listFiche?number=2926076",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"fiches",
								"listFiche"
							],
							"query": [
								{
									"key": "number",
									"value": "2926076",
									"description": "N√∫mero de ficha"
								}
							]
						},
						"description": "### üìã Listar Fichas\n\nObtiene informaci√≥n de fichas de formaci√≥n.\n\n**M√©todo**: GET\n**Autenticaci√≥n**: Requerida (JWT)\n**Permisos**: ADMIN, INSTRUCTOR\n\n#### üîç Query Parameters (Opcionales):\n- `number`: Filtrar por n√∫mero de ficha\n\n#### üì§ Response (200 OK):\n```json\n{\n  \"msg\": [\n    {\n      \"_id\": \"...\",\n      \"number\": \"2926076\",\n      \"program\": \"...\",\n      \"owner\": {\n        \"_id\": \"...\",\n        \"name\": \"INSTRUCTOR L√çDER\",\n        \"email\": \"instructor@sena.edu.co\"\n      },\n      \"coordination\": \"...\",\n      \"fstart\": \"2024-01-15T00:00:00.000Z\",\n      \"fend\": \"2025-12-15T00:00:00.000Z\",\n      \"status\": 0,\n      \"createdAt\": \"2024-01-01T00:00:00.000Z\"\n    }\n  ]\n}\n```\n\n#### üí° Notas:\n- Incluye populate del instructor owner\n- Sin filtros, devuelve todas las fichas"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "token_aprendiz",
			"value": "",
			"type": "string"
		},
		{
			"key": "token_admin",
			"value": "",
			"type": "string"
		},
		{
			"key": "token_instructor",
			"value": "",
			"type": "string"
		},
		{
			"key": "base_url",
			"value": "http://localhost:5000/api",
			"type": "string"
		},
		{
			"key": "base_url_desplegado",
			"value": "https://repfora-ep-backend.onrender.com/api",
			"type": "string"
		}
	]
}